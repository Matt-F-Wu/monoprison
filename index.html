<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Monoprison</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link rel="stylesheet" href="./css/main.css" />
		<script type="text/javascript" src="./js/popmotion.global.min.js"></script>
		<style>
			html {
				height: 100%;
			}
			body {
				margin: 0px;
				background-color: #000000;
				overflow: hidden;
				height: 100%;
			}
			.full{
				min-height: 100%;
				width: 100%;
				height: 100%;
			}
			.row{
				display: flex;
				flex-direction: row;
			}
			.column{
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
			}

			.rowfit{
				display: inline-flex;
				flex-direction: row;
			}
		</style>
	</head>
	<body>
		<div class="full row" style="position: absolute;">
			<script>
				function toggleInfo(){
					let btn = document.getElementById('toggleBtn');
					//console.log(btn.innerHTML);
					if(btn.innerHTML === 'x'){
						btn.innerHTML = '...';
					}else{
						btn.innerHTML = 'x';
					}
					decisionUI.toggle();
				}
			</script>
			<div class="btnpure" style="position: absolute; top: 0%; margin-left: 70%; z-index: 30" onclick="toggleInfo()" id="toggleBtn">...</div>
			<div class="column" style="height: 100%; width: 70%;">
				<div id="info" style="height: 100%; width: 110%; padding: 5%; margin-left: 10%; z-index: 20; visibility: hidden;">
					<div class="row" style="flex:1; height: 50%">
						<div class="quad column">
							<h4>Peter Panda<img width="50" height="50" src="./textures/panda.png" style="display: inline;"></h4>
							<div class="q_header"></div>
							<div class="q_content"></div>
							<div class="q_decision"></div>
							<div class="rowfit" style="margin-bottom: 2%">
								<div class="btnpure yes">Yes</div>
								<div class="btnpure no">No</div>
							</div>
						</div>
						<div class="quad column">
							<h4>Penelope Pig<img width="50" height="50" src="./textures/pig.png"></h4>
							<div class="q_header"></div>
							<div class="q_content"></div>
							<div class="q_decision"></div>
							<div class="rowfit" style="margin-bottom: 2%">
								<div class="btnpure yes">Yes</div>
								<div class="btnpure no">No</div>
							</div>
						</div>
					</div>
					<div class="row" style="flex:1; height: 50%">
						<div class="quad column">
							<h4>Mandy Monkey<img width="50" height="50" src="./textures/monkey.png"></h4>
							<div class="q_header"></div>
							<div class="q_content"></div>
							<div class="q_decision"></div>
							<div class="rowfit" style="margin-bottom: 2%">
								<div class="btnpure yes">Yes</div>
								<div class="btnpure no">No</div>
							</div>
						</div>
						<div class="quad column">
							<h4>Zachary Zebra<img width="50" height="50" src="./textures/zebra.png"></h4>
							<div class="q_header"></div>
							<div class="q_content"></div>
							<div class="q_decision"></div>
							<div class="rowfit" style="margin-bottom: 2%">
								<div class="btnpure yes">Yes</div>
								<div class="btnpure no">No</div>
							</div>
						</div>
					</div>
				</div>
				<div id="board" style="position: absolute; height: 100%; width: 80%; margin-top: 2%">
					<div class="player" id="character1"><img width="100%" height="100%" src="./textures/panda.png"></div>
					<div class="player" id="character2"><img width="100%" height="100%" src="./textures/pig.png"></div>
					<div class="player" id="character3"><img width="100%" height="100%" src="./textures/monkey.png"></div>
					<div class="player" id="character4"><img width="100%" height="100%" src="./textures/zebra.png"></div>
					<div class="circle">Start</div>
					<div class="circle">Chance</div>
					<div class="circle">Chance</div>
					<div class="circle">Payday</div>
					<div class="circle">Event</div>
					<div class="circle">Chance</div>
					<div class="circle">Event</div>
					<div class="circle">Payday</div>
					<div class="circle"></div>
					<div class="circle">Chance</div>
					<div class="circle">Chance</div>
					<div class="circle">Chance</div>
					<div class="circle">Event</div>
					<div class="circle">Payday</div>
					<div class="circle">Chance</div>
					<div class="circle">Chance</div>
					<div class="circle">Event</div>
				</div>
			</div>
			<div class="column" style="height: 100%; width: 30%">
				<div id="scoreBoard"  style="height: 15%">
					<div><span>Peter Panda: </span><span class="p_status">init</span></div>
					<div><span>Penelope Pig: </span><span class="p_status">init</span></div>
					<div><span>Mandy Monkey: </span><span class="p_status">init</span></div>
					<div><span>Zachary Zebra: </span><span class="p_status">init</span></div>
				</div>
				<div id="resource" style="height: 35%">
				</div>
				<div id="threejscanvas" style="height: 30%"></div>

				<script src="./js/three.min.js"></script>
				<script src="./js/main.js"></script>
				<script src="./js/control.js"></script>

				<div id="control" style="height: 20%" class="column">
					<div style="font-family: Arial; color: white; font-style: bold; margin-bottom: 5%; font-size: 18pt;">move <u id="num_step">x</u> steps</div>
					<div style="display: flex; flex-direction: row;">
						<div id="tossBtn" class="btnpure" onclick="tossDice()" style="flex: 1">TOSS</div>
						<div id="nextBtn" class="btngray" onclick="moveOthers()" style="flex: 1">Next</div>
						<script>
							tossButton = document.getElementById('tossBtn');
							nextButton = document.getElementById('nextBtn');
							decisionUI.info();
						</script>
					</div>
				</div>
			</div>
		</div>
		<div id="postGame" class="full" style="position: absolute; display: none; background-color: white; z-index: 40; padding: 20px">
			Game Ended!
			<br>
			What did you learn?
			<!--TODO: what should we have here for post-game education-->
		</div>
		<!--A very light weight modal inplementation-->
		<div class="modal-shade"></div>
		<div class="modal-container">
			<div class="modal">
				<h1 id="modalHeader"></h1>
				<p id="modalMessage"></p>
				<div class="modal-actions">
					<button class="image-btn"><img width="80" height="80" src="./textures/panda.png" onclick="selectPlayer(0)"/></button>
					<button class="image-btn"><img width="80" height="80" src="./textures/pig.png" onclick="selectPlayer(1)"/></button>
					<button class="image-btn"><img width="80" height="80" src="./textures/monkey.png" onclick="selectPlayer(2)"/></button>
					<button class="image-btn"><img width="80" height="80" src="./textures/zebra.png" onclick="selectPlayer(3)"/></button>
					<button class="modal-cancel">Cancel</button>
					<button class="modal-ok">Ok!</button>
				</div>
			</div>
		</div>
		<script type="text/javascript" src="./js/modal.js"></script>
		<script>
			console.log("Select stuff please");
			openModal("Please select your character", "", false, "exit", "", true);
		</script>
	</body>
</html>
